import{t as I,r as P,aA as T,ap as K,aq as N,o as U,h as O,C as j,g as L,ak as E,n as M,bH as z,bI as G,k as H,u as J,c as $,e as W,I as X,J as V,K as Y,L as v,f as o,aw as B,bx as Z,aB as ee,P as l,Q as A,N as k,aG as te,F as S,M as R,O as oe,bC as ue,ay as w,az as ae,d as se,ba as ne}from"./index.662f4498.js";var ge=I({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validation-success","validation-error"],setup(a,{slots:f,emit:p}){const F=L(),m=P(null);let r=0;const n=[];function _(e){const u=[],y=typeof e=="boolean"?e:a.noErrorFocus!==!0,Q=++r,x=(c,t)=>{p("validation-"+(c===!0?"success":"error"),t)};for(let c=0;c<n.length;c++){const t=n[c],g=t.validate();if(typeof g.then=="function")u.push(g.then(d=>({valid:d,comp:t}),d=>({valid:!1,comp:t,err:d})));else if(g!==!0){if(a.greedy===!1)return x(!1,t),y===!0&&typeof t.focus=="function"&&t.focus(),Promise.resolve(!1);u.push({valid:!1,comp:t})}}return u.length===0?(x(!0),Promise.resolve(!0)):Promise.all(u).then(c=>{const t=c.filter(D=>D.valid!==!0);if(t.length===0)return Q===r&&x(!0),!0;const{valid:g,comp:d,err:q}=t[0];return Q===r&&(q!==void 0&&console.error(q),x(!1,d),y===!0&&g!==!0&&typeof d.focus=="function"&&d.focus()),!1})}function h(){r++,n.forEach(e=>{typeof e.resetValidation=="function"&&e.resetValidation()})}function i(e){e!==void 0&&E(e);const u=r+1;_().then(y=>{u===r&&y===!0&&(a.onSubmit!==void 0?p("submit",e):e!==void 0&&e.target!==void 0&&typeof e.target.submit=="function"&&e.target.submit())})}function b(e){e!==void 0&&E(e),p("reset"),M(()=>{h(),a.autofocus===!0&&a.noResetFocus!==!0&&s()})}function s(){z(()=>{if(m.value===null)return;const e=m.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(m.value.querySelectorAll("[tabindex]"),u=>u.tabIndex>-1);e!=null&&e.focus({preventScroll:!0})})}T(G,{bindComponent(e){n.push(e)},unbindComponent(e){const u=n.indexOf(e);u>-1&&n.splice(u,1)}});let C=!1;return K(()=>{C=!0}),N(()=>{C===!0&&a.autofocus===!0&&s()}),U(()=>{a.autofocus===!0&&s()}),Object.assign(F.proxy,{validate:_,resetValidation:h,submit:i,reset:b,focus:s,getValidationComponents:()=>n}),()=>O("form",{class:"q-form",ref:m,onSubmit:i,onReset:b},j(f.default))}});const re=l("div",{class:"q-ml-sm text-h6"},"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0437\u0430\u044F\u0432\u043A\u0438",-1),le=l("div",null,"missing slot",-1),ie=l("div",{class:"col"},"\u041C\u0430\u0440\u0448\u0440\u0443\u0442 \u0441\u043E\u0433\u043B\u0430\u0441\u043E\u0432\u0430\u043D\u0438\u044F:",-1),ce={class:"col"},de={class:"row justify-center flex-center"},fe={class:"col-auto"},me={class:"col text-center"},ve={key:0,class:"col-auto text-center"},pe={class:"col-auto text-center"},he=H({__name:"RequestConfirmationDialog",props:{modelValue:{type:Boolean},requestType:null},emits:["update:modelValue","confirmed"],setup(a,{emit:f}){const p=a;function F(){f("update:modelValue",!1)}function m(){f("update:modelValue",!1),f("confirmed")}const r=J(),n=$.providers.request,_=W(()=>(r.id,n.getApprovementRoute(p.requestType)));return(h,i)=>{const b=X("KT-UserAvatar");return V(),Y(ne,{modelValue:a.modelValue,"onUpdate:modelValue":[i[0]||(i[0]=s=>se(modelValue)?modelValue.value=s:null),i[1]||(i[1]=s=>f("update:modelValue",s))]},{default:v(()=>[o(ae,null,{default:v(()=>[o(B,{class:"row items-center"},{default:v(()=>[o(Z,{icon:"work",color:"negative","text-color":"white"}),re]),_:1}),o(B,null,{default:v(()=>[ee(h.$slots,"default",{},()=>[le])]),_:3}),o(B,{class:"column"},{default:v(()=>[ie,l("div",ce,[l("div",de,[l("div",fe,[o(A,{name:"start"})]),(V(!0),k(S,null,te(R(_),(s,C)=>(V(),k(S,null,[l("div",me,[o(b,{data:s},null,8,["data"])]),C<R(_).length-1?(V(),k("div",ve,[o(A,{name:"arrow_right_alt"})])):oe("",!0)],64))),256)),l("div",pe,[o(A,{name:"keyboard_tab"})])])])]),_:1}),o(ue,{align:"right"},{default:v(()=>[o(w,{outline:"",label:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",color:"red",onClick:F}),o(w,{outline:"",label:"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044C",color:"green",onClick:m})]),_:1})]),_:3})]),_:3},8,["modelValue"])}}});export{ge as Q,he as _};
