import{k as b,l as Q,r as p,u as x,I as S,J as r,N as i,P as u,f as e,ay as v,L as s,F as U,c as w,p as I,aF as k,az as E,aw as a,bu as y,U as q,bG as _,Q as N,S as d,O as D,R as f}from"./index.662f4498.js";import{Q as R}from"./QSlideTransition.16973c42.js";import{Q as j}from"./QTooltip.dcd57151.js";import{Q as $,_ as P}from"./RequestConfirmationDialog.742c62ed.js";import{Q as G}from"./QMarkupTable.63d61ed1.js";import{i as K}from"./date.7609a602.js";import L from"./RangeCalendar.61c4396d.js";import{_ as M}from"./OrgSchedule.fbfc1c93.js";import"./quasar-i18n.df545d46.js";import"./QField.533f9238.js";import"./QBtnGroup.38b749e6.js";import"./index.esm.666e235a.js";const O={class:"row justify-end"},z={class:"col-auto"},J={class:"column justify-center"},H={class:"col q-pb-md"},W={class:"column justify-center"},X={class:"row q-gutter-md justify-center"},Y={class:"column"},Z=u("div",{class:"text-h6 text-center"},"\u0414\u0430\u0442\u044B \u043A\u043E\u043C\u0430\u043D\u0434\u0438\u0440\u043E\u0432\u043A\u0438",-1),u4={class:"col-6"},e4={class:"column q-gutter-md"},t4={class:"text-h6 text-center"},l4=f("\u0412\u0438\u0434 \u043A\u043E\u043C\u043F\u0435\u043D\u0441\u0430\u0446\u0438\u0438 \u0437\u0430 \u0432\u044B\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u043D\u0438"),o4=f("i"),s4=u("div",null,"\u041A\u043E\u043C\u0430\u043D\u0434\u0438\u0440\u043E\u0432\u043A\u0430, \u043F\u0440\u0438\u0445\u043E\u0434\u044F\u0449\u0430\u044F\u0441\u044F \u043D\u0430 \u0432\u044B\u0445\u043E\u0434\u043D\u043E\u0439 \u0438\u043B\u0438 \u043F\u0440\u0430\u0437\u0434\u043D\u0438\u0447\u043D\u044B\u0439 \u0434\u0435\u043D\u044C \u0434\u043E\u043B\u0436\u043D\u044B \u0431\u044B\u0442\u044C \u043B\u0438\u0431\u043E \u043A\u043E\u043C\u043F\u0435\u043D\u0441\u0438\u0440\u043E\u0432\u0430\u043D\u044B \u0434\u043D\u0435\u043C \u043E\u0442\u0433\u0443\u043B\u0430, \u043B\u0438\u0431\u043E \u043E\u043F\u043B\u0430\u0447\u0435\u043D\u044B \u0432 \u0434\u0432\u043E\u0439\u043D\u043E\u043C \u043E\u0431\u044A\u0435\u043C\u0435.",-1),n4=u("div",null,"\u0412\u044B\u0431\u043E\u0440 \u0442\u0438\u043F\u0430 \u043A\u043E\u043C\u043F\u0435\u043D\u0441\u0430\u0446\u0438\u0438 \u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D \u0442\u043E\u043B\u044C\u043A\u043E \u0435\u0441\u043B\u0438 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u0434\u043D\u0438 \u043F\u0440\u0438\u0445\u043E\u0434\u044F\u0442\u0441\u044F \u043D\u0430 \u0432\u044B\u0445\u043E\u0434\u043D\u044B\u0435.",-1),a4={class:"row justify-center"},d4={class:"column"},r4={class:"row flex-center"},i4=f("\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0437\u0430\u044F\u0432\u043A\u0443"),m4=u("thead",null,[u("tr",null,[u("th",{colspan:"2"},[u("div",{class:"text-h6"},"\u041F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B \u0437\u0430\u044F\u0432\u043A\u0438 \u043D\u0430 \u043A\u043E\u043C\u0430\u043D\u0434\u0438\u0440\u043E\u0432\u043A\u0443")])])],-1),c4=u("td",null,"\u0414\u0430\u0442\u044B \u043A\u043E\u043C\u0430\u043D\u0434\u0438\u0440\u043E\u0432\u043A\u0438",-1),E4={key:0},_4=u("td",null,"\u0412\u0438\u0434 \u043A\u043E\u043C\u043F\u0435\u043D\u0441\u0430\u0446\u0438\u0438 \u0437\u0430 \u0432\u044B\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u043D\u0438:",-1),D4={key:0},B4={key:1},p4=u("td",null,"\u041C\u0435\u0441\u0442\u043E \u043A\u043E\u043C\u0430\u043D\u0434\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F",-1),f4=u("td",null,"\u0426\u0435\u043B\u044C \u043F\u043E\u0435\u0437\u0434\u043A\u0438",-1),F4=u("td",null,"\u041E\u0441\u043D\u043E\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u0435\u0437\u0434\u043A\u0438",-1),C4={key:1},v4=u("td",null,"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439",-1),k4=b({__name:"RequestForBuisinessTripPage",setup(y4){const t=Q({country:"",goal:"",reason:"",comment:"",compensationType:"freeDay"}),n=p({dateFrom:"",dateTo:""}),F="BUISINESS_TRIP",A=[{label:"\u0414\u043E\u043F.\u0432\u0445\u043E\u0434\u043D\u043E\u0439",value:"freeDay",default:!0},{label:"\u041E\u043F\u043B\u0430\u0442\u0430 x2",value:"money"}];function C(){return n.value.dateFrom&&n.value.dateTo?K(n.value.dateFrom,n.value.dateTo):!1}const B=p(!1),g=x();async function V(){const c={id:"",ownerUserId:g.id,requestTypeName:F,comment:t.comment,status:"PENDING",createdAt:new Date().toDateString(),payload:{dateFrom:n.value.dateFrom,dateTo:n.value.dateTo,target:t.country,goal:t.goal,reason:t.reason}};w.providers.buisinessTrip.sendRequest(c)}const m=p(!0);function T(c){return c?"\u0441\u043A\u0440\u044B\u0442\u044C \u043A\u0430\u043B\u0435\u043D\u0434\u0430\u0440\u044C":"\u043F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u043A\u0430\u043B\u0435\u043D\u0434\u0430\u0440\u044C"}return(c,o)=>{const h=S("KT-ButtonToggle");return r(),i(U,null,[u("div",O,[u("div",z,[e(v,{flat:"",onClick:o[0]||(o[0]=l=>m.value=!m.value),label:T(m.value)},null,8,["label"])])]),u("div",J,[u("div",H,[e(R,null,{default:s(()=>[I(e(E,null,{default:s(()=>[e(a,null,{default:s(()=>[e(M)]),_:1})]),_:1},512),[[k,m.value]])]),_:1})])]),e($,{onSubmit:o[7]||(o[7]=l=>B.value=!0),greedy:""},{default:s(()=>[u("div",W,[u("div",X,[u("div",Y,[e(E,null,{default:s(()=>[e(a,null,{default:s(()=>[Z]),_:1}),e(y,{inset:""}),e(a,null,{default:s(()=>[e(L,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=l=>n.value=l),restrictTo:0},null,8,["modelValue"])]),_:1})]),_:1})]),u("div",u4,[u("div",e4,[e(E,null,{default:s(()=>[e(a,null,{default:s(()=>[u("div",t4,[l4,e(q,{align:"top",rounded:"",color:"blue"},{default:s(()=>[o4,e(j,null,{default:s(()=>[s4,n4]),_:1})]),_:1})])]),_:1}),e(y,{inset:""}),e(a,null,{default:s(()=>[u("div",a4,[e(h,{options:A,modelValue:t.compensationType,"onUpdate:modelValue":o[2]||(o[2]=l=>t.compensationType=l),disable:!C()},null,8,["modelValue","disable"])])]),_:1})]),_:1}),e(E,null,{default:s(()=>[e(a,null,{default:s(()=>[u("div",d4,[e(_,{filled:"",label:"\u0421\u0442\u0440\u0430\u043D\u0430 \u0438 \u0433\u043E\u0440\u043E\u0434",modelValue:t.country,"onUpdate:modelValue":o[3]||(o[3]=l=>t.country=l),rules:[l=>!!l||"\u042D\u0442\u043E \u043F\u043E\u043B\u0435 \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u043D\u0443\u0436\u043D\u043E \u0437\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u044C"]},{prepend:s(()=>[e(N,{name:"place"})]),_:1},8,["modelValue","rules"]),e(_,{filled:"",label:"\u0426\u0435\u043B\u044C \u043F\u043E\u0435\u0437\u0434\u043A\u0438",modelValue:t.goal,"onUpdate:modelValue":o[4]||(o[4]=l=>t.goal=l),rules:[l=>!!l||"\u042D\u0442\u043E \u043F\u043E\u043B\u0435 \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u043D\u0443\u0436\u043D\u043E \u0437\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u044C"]},null,8,["modelValue","rules"]),e(_,{filled:"",label:"\u041E\u0441\u043D\u043E\u0432\u0430\u043D\u0438\u0435 \u0434\u043B\u044F \u043F\u043E\u0435\u0437\u0434\u043A\u0438",modelValue:t.reason,"onUpdate:modelValue":o[5]||(o[5]=l=>t.reason=l),rules:[l=>!!l||"\u042D\u0442\u043E \u043F\u043E\u043B\u0435 \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u043D\u0443\u0436\u043D\u043E \u0437\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u044C"]},null,8,["modelValue","rules"]),e(_,{filled:"",label:"\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439",modelValue:t.comment,"onUpdate:modelValue":o[6]||(o[6]=l=>t.comment=l),type:"textarea"},null,8,["modelValue"])])]),_:1})]),_:1})])])]),u("div",r4,[e(v,{color:"purple",type:"submit"},{default:s(()=>[i4]),_:1})])])]),_:1}),e(P,{modelValue:B.value,"onUpdate:modelValue":o[8]||(o[8]=l=>B.value=l),"request-type":F,onConfirmed:V},{default:s(()=>[e(G,null,{default:s(()=>[m4,u("tbody",null,[u("tr",null,[c4,u("td",null,d(n.value.dateFrom)+" - "+d(n.value.dateTo),1)]),C()?(r(),i("tr",E4,[_4,u("td",null,[t.compensationType=="money"?(r(),i("div",D4,"\u041E\u043F\u043B\u0430\u0442\u0430 \u0432 \u0434\u0432\u043E\u0439\u043D\u043E\u043C \u0440\u0430\u0437\u043C\u0435\u0440\u0435")):D("",!0),t.compensationType=="freeDay"?(r(),i("div",B4,"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u043E\u043F\u043B\u0430\u0447\u0438\u0432\u0430\u0435\u043C\u044B\u0435 \u0432\u044B\u0445\u043E\u0434\u043D\u044B\u0435")):D("",!0)])])):D("",!0),u("tr",null,[p4,u("td",null,d(t.country),1)]),u("tr",null,[f4,u("td",null,d(t.goal),1)]),u("tr",null,[F4,u("td",null,d(t.reason),1)]),t.comment!=""?(r(),i("tr",C4,[v4,u("td",null,d(t.comment),1)])):D("",!0)])]),_:1})]),_:1},8,["modelValue"])],64)}}});export{k4 as default};
