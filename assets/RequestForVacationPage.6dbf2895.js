import{h as s,t as P,bE as N,bF as U,k as R,r as E,l as j,c as V,w as I,I as z,J as _,N as m,P as u,f as t,ay as w,L as e,F as M,M as c,p as $,aF as G,az as f,aw as a,bu as F,S as r,O as T,U as O,bG as K,aU as L,R as i}from"./index.662f4498.js";import{Q as J}from"./QSlideTransition.16973c42.js";import{Q as H}from"./QTooltip.dcd57151.js";import{Q as W,_ as X}from"./RequestConfirmationDialog.742c62ed.js";import{Q as Y}from"./QMarkupTable.63d61ed1.js";import{f as C}from"./date.7609a602.js";import{_ as Z}from"./OrgSchedule.fbfc1c93.js";import uu from"./RangeCalendar.61c4396d.js";import"./quasar-i18n.df545d46.js";import"./QBtnGroup.38b749e6.js";import"./index.esm.666e235a.js";import"./QField.533f9238.js";const tu=[s("defs",[s("linearGradient",{x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%",id:"a"},[s("stop",{"stop-color":"currentColor","stop-opacity":"0",offset:"0%"}),s("stop",{"stop-color":"currentColor","stop-opacity":".631",offset:"63.146%"}),s("stop",{"stop-color":"currentColor",offset:"100%"})])]),s("g",{transform:"translate(1 1)",fill:"none","fill-rule":"evenodd"},[s("path",{d:"M36 18c0-9.94-8.06-18-18-18",stroke:"url(#a)","stroke-width":"2"},[s("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})]),s("circle",{fill:"currentColor",cx:"36",cy:"18",r:"1"},[s("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})])])];var eu=P({name:"QSpinnerTail",props:N,setup(D){const{cSize:v,classes:l}=U(D);return()=>s("svg",{class:l.value,width:v.value,height:v.value,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg"},tu)}});const ou={class:"row justify-end"},lu={class:"col-auto"},su={class:"column justify-center"},au={class:"col q-pb-md"},nu={class:"col row q-gutter-md justify-center"},du={class:"column"},ru=u("div",{class:"text-h6 text-center"},"\u0414\u0430\u0442\u044B \u043E\u0442\u043F\u0443\u0441\u043A\u0430",-1),iu={class:"col-6"},cu={class:"column q-gutter-md"},_u={class:"row justify-center"},mu={class:"col q-pr-md"},fu=i("\u041E\u0441\u0442\u0430\u0442\u043E\u043A \u0434\u043D\u0435\u0439 \u043E\u0442\u043F\u0443\u0441\u043A\u0430"),pu=u("br",null,null,-1),vu=i(),hu=u("b",null,"\u043D\u0430 \u0441\u0435\u0433\u043E\u0434\u043D\u044F",-1),Eu={key:0},Fu={class:"col"},yu=i("\u041E\u0441\u0442\u0430\u0442\u043E\u043A \u0434\u043D\u0435\u0439 \u043E\u0442\u043F\u0443\u0441\u043A\u0430"),Bu=u("br",null,null,-1),Cu=i(),Du={key:0},gu={key:1},bu={key:2},xu={class:"text-h6 text-center"},Au=i("\u0422\u0438\u043F \u043E\u0442\u043F\u0443\u0441\u043A\u0430"),Vu=i("i"),wu=u("div",null,"\u0415\u0436\u0435\u0433\u043E\u0434\u043D\u044B\u0439 \u043E\u0442\u043F\u0443\u0441\u043A \u043E\u043F\u043B\u0430\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044F \u043F\u043E \u0437\u0430\u043A\u043E\u043D\u0434\u0430\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0443, \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043C\u043E\u0441\u0442\u0438 \u043E\u0442 \u0432\u0430\u0448\u0435\u0433\u043E \u0441\u0440\u0435\u0434\u043D\u0435\u0433\u043E \u0437\u0430\u0440\u0430\u0431\u043E\u0442\u043A\u0430.",-1),Tu=u("div",null,"\u041E\u0442\u043F\u0443\u0441\u043A \u0437\u0430 \u0441\u0432\u043E\u0439 \u0441\u0447\u0435\u0442 \u043D\u0435 \u043E\u043F\u043B\u0430\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044F.",-1),Qu={class:"row justify-center"},Su={class:"column"},qu={class:"col row flex-center"},ku=i("\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0437\u0430\u044F\u0432\u043A\u0443"),Pu=u("thead",null,[u("tr",null,[u("th",{colspan:"2"},[u("div",{class:"text-h6"},"\u041F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B \u0437\u0430\u044F\u0432\u043A\u0438 \u043D\u0430 \u041E\u0442\u043F\u0443\u0441\u043A")])])],-1),Nu=u("td",null,"\u0422\u0438\u043F \u043E\u0442\u043F\u0443\u0441\u043A\u0430",-1),Uu=u("td",null,"\u0414\u0430\u0442\u044B \u043E\u0442\u043F\u0443\u0441\u043A\u0430",-1),Ru={class:"column"},ju={class:"col"},Iu={class:"col"},zu=i("\u041E\u0431\u0449\u0430\u044F \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C: "),Mu={key:0},$u=u("td",null,"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439",-1),e4=R({__name:"RequestForVacationPage",setup(D){const v=[{label:"\u0415\u0436\u0435\u0433\u043E\u0434\u043D\u044B\u0439 (\u043E\u043F\u043B\u0430\u0447\u0438\u0432\u0430\u0435\u043C\u044B\u0439)",value:"true",default:!0},{label:"\u0417\u0430 \u0441\u0432\u043E\u0439 \u0441\u0447\u0435\u0442",value:"false"}],l=E({dateFrom:"",dateTo:""}),y=E(!1),n=j({isPayed:!0,comment:""}),g=V.providers.unitVacation,Q=V.providers.request,b=g.getVacationBalance,x=E(""),B=g.getVacationBalanceOnDate(x);I(l,p=>{x.value=p.dateFrom});const A="VACATION";function S(p){const o={id:"",createdAt:"",ownerUserId:"",requestTypeName:A,status:"PENDING",comment:n.comment,payload:{...c(l),isPayed:n.isPayed}};Q.registerRequest(o)}const h=E(!0);function q(p){return p?"\u0441\u043A\u0440\u044B\u0442\u044C \u043A\u0430\u043B\u0435\u043D\u0434\u0430\u0440\u044C":"\u043F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u043A\u0430\u043B\u0435\u043D\u0434\u0430\u0440\u044C"}return(p,o)=>{const k=z("KT-ButtonToggle");return _(),m(M,null,[u("div",ou,[u("div",lu,[t(w,{flat:"",onClick:o[0]||(o[0]=d=>h.value=!h.value),label:q(h.value)},null,8,["label"])])]),u("div",su,[u("div",au,[t(J,null,{default:e(()=>[$(t(f,null,{default:e(()=>[t(a,null,{default:e(()=>[t(Z)]),_:1})]),_:1},512),[[G,h.value]])]),_:1})]),t(W,{class:"column",onSubmit:o[4]||(o[4]=d=>y.value=!0),greedy:""},{default:e(()=>[u("div",nu,[u("div",du,[t(f,null,{default:e(()=>[t(a,null,{default:e(()=>[ru]),_:1}),t(F,{inset:""}),t(a,null,{default:e(()=>[t(uu,{modelValue:l.value,"onUpdate:modelValue":o[1]||(o[1]=d=>l.value=d),restrictTo:14},null,8,["modelValue"])]),_:1})]),_:1})]),u("div",iu,[u("div",cu,[u("div",_u,[u("div",mu,[t(f,null,{default:e(()=>[t(a,{class:"text-center"},{default:e(()=>[fu,pu,vu,hu]),_:1}),t(F),t(a,{class:"flex flex-center",style:{fontSize:"24px"}},{default:e(()=>[c(b)?(_(),m("div",Eu,r(c(b)),1)):T("",!0)]),_:1})]),_:1})]),u("div",Fu,[t(f,null,{default:e(()=>[t(a,{class:"text-center"},{default:e(()=>[yu,Bu,Cu,u("b",null,"\u043D\u0430 "+r(C(l.value.dateFrom)),1)]),_:1}),t(F),t(a,{class:"flex flex-center",style:{fontSize:"24px"}},{default:e(()=>[c(B).loading.value?(_(),m("div",Du,[t(eu)])):c(B).result.value?(_(),m("div",gu,r(c(B).result),1)):(_(),m("div",bu,"--"))]),_:1})]),_:1})])]),t(f,null,{default:e(()=>[t(a,null,{default:e(()=>[u("div",xu,[Au,t(O,{align:"top",rounded:"",color:"blue"},{default:e(()=>[Vu,t(H,null,{default:e(()=>[wu,Tu]),_:1})]),_:1})])]),_:1}),t(F,{inset:""}),t(a,null,{default:e(()=>[u("div",Qu,[t(k,{options:v,modelValue:n.isPayed,"onUpdate:modelValue":o[2]||(o[2]=d=>n.isPayed=d)},null,8,["modelValue"])])]),_:1})]),_:1}),t(f,null,{default:e(()=>[t(a,null,{default:e(()=>[u("div",Su,[t(K,{filled:"",label:"\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439",modelValue:n.comment,"onUpdate:modelValue":o[3]||(o[3]=d=>n.comment=d),type:"textarea"},null,8,["modelValue"])])]),_:1})]),_:1})])])]),u("div",qu,[t(w,{color:"purple",type:"submit"},{default:e(()=>[ku]),_:1})])]),_:1})]),t(X,{modelValue:y.value,"onUpdate:modelValue":o[5]||(o[5]=d=>y.value=d),"request-type":A,onConfirmed:S},{default:e(()=>[t(Y,null,{default:e(()=>[Pu,u("tbody",null,[u("tr",null,[Nu,u("td",null,r(n.isPayed?"\u0415\u0436\u0435\u0433\u043E\u0434\u043D\u044B\u0439 \u043E\u043F\u043B\u0430\u0447\u0438\u0432\u0430\u0435\u043C\u044B\u0439":"\u0417\u0430 \u0441\u0432\u043E\u0439 \u0441\u0447\u0435\u0442 (\u043D\u0435\u043E\u043F\u043B\u0430\u0447\u0438\u0432\u0430\u0435\u043C\u044B\u0439)"),1)]),u("tr",null,[Uu,u("td",null,[u("div",Ru,[u("div",ju,r(C(l.value.dateFrom))+" - "+r(C(l.value.dateTo)),1),u("div",Iu,[zu,u("b",null,r(c(L).getDateDiff(l.value.dateTo,l.value.dateFrom,"days")+1)+" \u0434\u043D.",1)])])])]),n.comment!=""?(_(),m("tr",Mu,[$u,u("td",null,r(n.comment),1)])):T("",!0)])]),_:1})]),_:1},8,["modelValue"])],64)}}});export{e4 as default};
